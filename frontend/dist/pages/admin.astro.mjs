import { c as createComponent, r as renderComponent, a as renderTemplate, m as maybeRenderHead, b as addAttribute } from '../chunks/astro/server_Cwf6Nwx_.mjs';
import 'kleur/colors';
import { $ as $$BaseLayout } from '../chunks/BaseLayout_Dcc9Mx8q.mjs';
export { renderers } from '../renderers.mjs';

const $$Index = createComponent(async ($$result, $$props, $$slots) => {
  return renderTemplate`${renderComponent($$result, "BaseLayout", $$BaseLayout, { "title": "\u7BA1\u7406\u540E\u53F0" }, { "default": async ($$result2) => renderTemplate` ${maybeRenderHead()}<div id="app" class="min-h-screen bg-surface-900"> <!-- Login Screen --> <div id="login-screen" class="min-h-screen flex items-center justify-center p-4"> <div class="w-full max-w-sm"> <div class="text-center mb-8"> <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-accent-cyan/20 to-accent-purple/20 border border-accent-cyan/20 text-3xl flex items-center justify-center mx-auto mb-4">🤖</div> <h1 class="text-2xl font-display font-bold text-white">管理后台</h1> <p class="text-slate-400 text-sm mt-1">输入管理员 Token 登录</p> </div> <div class="card p-6"> <div class="mb-4"> <label class="label">Admin Token</label> <input type="password" id="token-input" class="input" placeholder="输入你的 ADMIN_TOKEN" autocomplete="current-password"> </div> <button id="login-btn" class="btn-primary w-full justify-center">
登录
</button> <p id="login-error" class="text-red-400 text-sm text-center mt-3 hidden">Token 错误，请重试</p> </div> </div> </div> <!-- Admin Dashboard (hidden until login) --> <div id="admin-screen" class="hidden"> <!-- Top Bar --> <header class="sticky top-0 z-50 border-b border-surface-600/50 backdrop-blur-xl bg-surface-900/80"> <div class="flex items-center justify-between px-6 h-16"> <div class="flex items-center gap-4"> <a href="/" class="text-slate-400 hover:text-slate-200 transition-colors" title="返回网站"> <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path> </svg> </a> <h1 class="text-white font-semibold">管理后台</h1> </div> <!-- Tab Nav --> <nav class="flex items-center gap-1"> ${[
    { id: "articles", label: "\u6587\u7AE0", icon: "\u{1F4DD}" },
    { id: "editor", label: "\u5199\u4F5C", icon: "\u270F\uFE0F" },
    { id: "taxonomy", label: "\u5206\u7C7B/\u6807\u7B7E", icon: "\u{1F3F7}\uFE0F" },
    { id: "stats", label: "\u7EDF\u8BA1", icon: "\u{1F4CA}" }
  ].map((tab) => renderTemplate`<button class="tab-btn px-3 py-1.5 rounded-lg text-sm font-medium transition-colors text-slate-400 hover:text-slate-200 hover:bg-surface-700/50"${addAttribute(tab.id, "data-tab")}> <span class="mr-1">${tab.icon}</span>${tab.label} </button>`)} </nav> <button id="logout-btn" class="btn-ghost text-xs text-slate-500">
退出登录
</button> </div> </header> <!-- Tab Content --> <main class="p-6 max-w-7xl mx-auto"> <!-- ====== ARTICLES TAB ====== --> <div id="tab-articles" class="tab-content"> <div class="flex items-center justify-between mb-6"> <div class="flex items-center gap-3"> <h2 class="text-xl font-display font-semibold text-white">文章管理</h2> <div class="flex gap-2"> <select id="filter-type" class="select w-24 text-xs py-1.5"> <option value="">全部</option> <option value="blog">Blog</option> <option value="wiki">Wiki</option> </select> <select id="filter-status" class="select w-24 text-xs py-1.5"> <option value="">全部状态</option> <option value="published">已发布</option> <option value="draft">草稿</option> </select> </div> </div> <button id="new-article-btn" class="btn-primary text-sm"> <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path> </svg>
新建文章
</button> </div> <div id="articles-loading" class="text-center py-16 text-slate-500">加载中...</div> <div id="articles-table" class="hidden"> <div class="card overflow-hidden"> <table class="w-full text-sm"> <thead class="bg-surface-700 border-b border-surface-600"> <tr> <th class="px-4 py-3 text-left text-slate-400 font-medium">标题</th> <th class="px-4 py-3 text-left text-slate-400 font-medium w-20">类型</th> <th class="px-4 py-3 text-left text-slate-400 font-medium w-24">状态</th> <th class="px-4 py-3 text-left text-slate-400 font-medium w-28 hidden md:table-cell">更新时间</th> <th class="px-4 py-3 text-right text-slate-400 font-medium w-32">操作</th> </tr> </thead> <tbody id="articles-tbody" class="divide-y divide-surface-700"></tbody> </table> </div> <div id="articles-empty" class="hidden text-center py-16 text-slate-500">
暂无文章
</div> </div> </div> <!-- ====== EDITOR TAB ====== --> <div id="tab-editor" class="tab-content hidden"> <div class="flex items-center justify-between mb-6"> <h2 class="text-xl font-display font-semibold text-white" id="editor-title-heading">新建文章</h2> <div class="flex gap-2"> <button id="save-draft-btn" class="btn-secondary text-sm">保存草稿</button> <button id="publish-btn" class="btn-primary text-sm">发布</button> </div> </div> <div class="grid lg:grid-cols-5 gap-6"> <!-- Editor Form --> <div class="lg:col-span-3 space-y-4"> <div> <label class="label">标题 <span class="text-red-400">*</span></label> <input id="ed-title" class="input text-lg font-medium" placeholder="文章标题..."> </div> <div> <label class="label">Slug (URL) <span class="text-red-400">*</span></label> <input id="ed-slug" class="input font-mono text-sm" placeholder="my-article-slug"> </div> <div> <label class="label">摘要</label> <textarea id="ed-excerpt" class="textarea h-20" placeholder="可选，不填将自动截取内容..."></textarea> </div> <div> <label class="label flex items-center justify-between"> <span>正文 (Markdown) <span class="text-red-400">*</span></span> <button id="preview-toggle" class="text-xs text-accent-cyan hover:text-cyan-300 transition-colors">预览</button> </label> <textarea id="ed-content" class="textarea font-mono text-sm h-[450px] leading-6" placeholder="# 标题

正文内容，支持 Markdown..."></textarea> <div id="ed-preview" class="hidden card p-6 prose-custom min-h-[450px] overflow-y-auto max-h-[450px]"></div> </div> </div> <!-- Sidebar Settings --> <div class="lg:col-span-2 space-y-4"> <!-- Type --> <div class="card p-4"> <label class="label">类型</label> <div class="grid grid-cols-2 gap-2"> <label class="flex items-center gap-2 p-2 rounded-lg bg-surface-700 cursor-pointer"> <input type="radio" name="ed-type" value="blog" id="type-blog" class="accent-cyan-400" checked> <span class="text-sm">📝 Blog</span> </label> <label class="flex items-center gap-2 p-2 rounded-lg bg-surface-700 cursor-pointer"> <input type="radio" name="ed-type" value="wiki" id="type-wiki" class="accent-purple-400"> <span class="text-sm">📚 Wiki</span> </label> </div> </div> <!-- Cover Image --> <div class="card p-4"> <label class="label">封面图片</label> <div id="cover-preview" class="hidden aspect-video rounded-lg overflow-hidden mb-3"> <img id="cover-img" src="" alt="封面" class="w-full h-full object-cover"> </div> <div id="cover-drop-zone" class="border-2 border-dashed border-surface-600 rounded-xl p-6 text-center cursor-pointer hover:border-accent-cyan/40 transition-colors"> <div class="text-slate-500 text-sm"> <div class="text-2xl mb-2">🖼️</div> <p>点击或拖拽上传图片</p> <p class="text-xs mt-1 text-slate-600">JPG, PNG, WebP · 最大 2MB</p> </div> <input type="file" id="cover-file-input" accept="image/*" class="hidden"> </div> <input id="ed-cover" class="input mt-2 text-sm" placeholder="或输入图片 URL..."> <div id="upload-progress" class="hidden mt-2"> <div class="flex items-center gap-2 text-xs text-slate-400"> <div class="w-4 h-4 border-2 border-accent-cyan/30 border-t-accent-cyan rounded-full animate-spin"></div>
上传中...
</div> </div> </div> <!-- Categories --> <div class="card p-4"> <label class="label">分类</label> <div id="categories-checkboxes" class="space-y-2 max-h-40 overflow-y-auto"> <div class="text-slate-500 text-xs">加载中...</div> </div> </div> <!-- Tags --> <div class="card p-4"> <label class="label">标签</label> <div id="tags-checkboxes" class="flex flex-wrap gap-2 max-h-48 overflow-y-auto"> <div class="text-slate-500 text-xs">加载中...</div> </div> </div> <!-- Danger Zone (for edit mode) --> <div id="danger-zone" class="card p-4 border-red-500/20 hidden"> <h3 class="text-sm font-medium text-red-400 mb-3">危险操作</h3> <button id="delete-article-btn" class="btn-danger w-full justify-center text-sm"> <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path> </svg>
删除此文章
</button> </div> </div> </div> </div> <!-- ====== TAXONOMY TAB ====== --> <div id="tab-taxonomy" class="tab-content hidden"> <div class="grid md:grid-cols-2 gap-8"> <!-- Categories --> <div> <div class="flex items-center justify-between mb-4"> <h2 class="text-lg font-display font-semibold text-white">分类管理</h2> <button id="new-cat-btn" class="btn-secondary text-sm">+ 新建分类</button> </div> <!-- New Category Form --> <div id="new-cat-form" class="card p-4 mb-4 hidden"> <div class="space-y-3"> <input id="cat-name" class="input text-sm" placeholder="分类名称"> <input id="cat-slug" class="input text-sm font-mono" placeholder="slug"> <input id="cat-desc" class="input text-sm" placeholder="描述（可选）"> <div class="flex items-center gap-2"> <label class="text-sm text-slate-400">颜色：</label> <input type="color" id="cat-color" value="#6366f1" class="w-8 h-8 rounded cursor-pointer bg-transparent border-0"> </div> <div class="flex gap-2"> <button id="save-cat-btn" class="btn-primary text-sm flex-1 justify-center">保存</button> <button id="cancel-cat-btn" class="btn-secondary text-sm">取消</button> </div> </div> </div> <div id="categories-list" class="space-y-2"> <div class="text-slate-500 text-sm text-center py-8">加载中...</div> </div> </div> <!-- Tags --> <div> <div class="flex items-center justify-between mb-4"> <h2 class="text-lg font-display font-semibold text-white">标签管理</h2> <button id="new-tag-btn" class="btn-secondary text-sm">+ 新建标签</button> </div> <!-- New Tag Form --> <div id="new-tag-form" class="card p-4 mb-4 hidden"> <div class="space-y-3"> <input id="tag-name" class="input text-sm" placeholder="标签名称"> <input id="tag-slug" class="input text-sm font-mono" placeholder="slug"> <div class="flex gap-2"> <button id="save-tag-btn" class="btn-primary text-sm flex-1 justify-center">保存</button> <button id="cancel-tag-btn" class="btn-secondary text-sm">取消</button> </div> </div> </div> <div id="tags-list" class="flex flex-wrap gap-2"> <div class="text-slate-500 text-sm">加载中...</div> </div> </div> </div> </div> <!-- ====== STATS TAB ====== --> <div id="tab-stats" class="tab-content hidden"> <h2 class="text-xl font-display font-semibold text-white mb-6">数据统计</h2> <div id="stats-grid" class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8"> <div class="text-center py-8 text-slate-500">加载中...</div> </div> </div> </main> </div> <!-- Toast Notifications --> <div id="toast-container" class="fixed bottom-6 right-6 z-50 space-y-2 pointer-events-none"></div> </div> ` })} `;
}, "/Users/alex/Downloads/techblog/frontend/src/pages/admin/index.astro", void 0);

const $$file = "/Users/alex/Downloads/techblog/frontend/src/pages/admin/index.astro";
const $$url = "/admin";

const _page = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
  __proto__: null,
  default: $$Index,
  file: $$file,
  url: $$url
}, Symbol.toStringTag, { value: 'Module' }));

const page = () => _page;

export { page };
